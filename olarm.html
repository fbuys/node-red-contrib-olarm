<script type="text/javascript">
  RED.nodes.registerType("olarm", {
    // node definition
    // category: (string) the palette category the node appears in
    // defaults: (object) the editable properties for the node.
    // credentials: (object) the credential properties for the node.
    // inputs: (number) how many inputs the node has, either 0 or 1.
    // outputs: (number) how many outputs the node has. Can be 0 or more.
    // color: (string) the background colour to use.
    // paletteLabel: (string|function) the label to use in the palette.
    // label: (string|function) the label to use in the workspace.
    // labelStyle: (string|function) the style to apply to the label.
    // inputLabels: (string|function) optional label to add on hover to the input port of a node.
    // outputLabels: (string|function) optional labels to add on hover to the output ports of a node.
    // icon: (string) the icon to use.
    // align: (string) the alignment of the icon and label.
    // button: (object) adds a button to the edge of the node.
    // oneditprepare: (function) called when the edit dialog is being built. See custom edit behaviour.
    // oneditsave: (function) called when the edit dialog is okayed. See custom edit behaviour.
    // oneditcancel: (function) called when the edit dialog is canceled. See custom edit behaviour.
    // oneditdelete: (function) called when the delete button in a configuration nodeâ€™s edit dialog is pressed. See custom edit behaviour.
    // oneditresize: (function) called when the edit dialog is resized. See custom edit behaviour.
    // onpaletteadd: (function) called when the node type is added to the palette.
    // onpaletteremove: (function) called when the node type is removed from the palette.
    category: "function",
    color: "#a6bbcf",
    defaults: {
      name: { value: "" },
    },
    inputs: 1,
    outputs: 1,
    icon: "file.svg",
    label: function () {
      return this.name || "olarm";
    },
    credentials: {
      token: { type: "text" },
      deviceId: { type: "text" },
    },
  });
</script>

<script type="text/html" data-template-name="olarm">
  <div class="form-row">
    <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name" />
  </div>
  <div class="form-row">
    <label for="node-input-token"><i class="fa fa-tag"></i> API Token</label>
    <input type="text" id="node-input-token" />
  </div>
  <div class="form-row">
    <label for="node-input-deviceId"><i class="fa fa-tag"></i> Device ID</label>
    <input type="text" id="node-input-deviceId" />
  </div>
</script>

<script type="text/html" data-help-name="olarm">
  <p>Some useful help text to introduce the node.</p>
  <h3>Outputs</h3>
  <dl class="message-properties">
    <dt>
      payload
      <span class="property-type">string | buffer</span>
    </dt>
    <h3>Details</h3>
    <p>Some more information about the node.</p>
  </dl>
</script>
